<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="teamlab" type="ASC.TeamLabSvc.Configuration.TeamLabSvcConfigurationSection, TeamLabSvc" />
    <section name="jabberServer" type="ASC.Xmpp.Server.Configuration.JabberConfigurationSection, ASC.Xmpp.Server" />
    <section name="fullTextIndex" type="ASC.FullTextIndex.Service.Config.TextIndexCfgSectionHandler, ASC.FullTextIndex" />
    <section name="notify" type="ASC.Notify.Config.NotifyServiceCfgSectionHandler, ASC.Notify" />
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    <section name="storage" type="ASC.Data.Storage.Configuration.StorageConfigurationSection, ASC.Data.Storage" />
    <section name="backup" type="ASC.Data.Backup.Service.BackupConfigurationSection, ASC.Data.Backup" />
    <section name="autoreply" type="ASC.Mail.Autoreply.AutoreplyServiceConfiguration, ASC.Mail.Autoreply" />
    <section name="feed" type="ASC.Feed.Aggregator.Config.FeedConfigurationSection, ASC.Feed.Aggregator" />
    <section name="healthCheck" type="ASC.HealthCheck.Settings.HealthCheckCfgSectionHandler, ASC.HealthCheck" />
    <section name="socketio" type="ASC.Socket.IO.Svc.SocketIOCfgSectionHandler, ASC.Socket.IO.Svc" />
    <section name="apiClient" type="ASC.Api.Client.ApiClientConfiguration, ASC.Api.Client" />
    <section name="autofac" type="ASC.Common.DependencyInjection.AutofacConfigurationSection, ASC.Common" />
    <section name="consumers" type="ASC.Thrdparty.Configuration.ConsumerConfigurationSection, ASC.Core.Common" />
  </configSections>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <probing privatePath="x64;x86" />
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Graph.Core" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.0.0" newVersion="1.5.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-10.0.0.0" newVersion="10.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Net.Http.Primitives" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.2.29.0" newVersion="4.2.29.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Net.Http" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Cors" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <system.data>
    <DbProviderFactories>
      <clear />
      <add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient" description=".Net Framework Data Provider for MySQL" type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data" />
    </DbProviderFactories>
  </system.data>
  <appSettings>
    <add key="core.base-domain" value="localhost" />
    <add key="core.machinekey" value="Vskoproizvolny Salt par Chivreski" />
    <add key="web.help-center" value="http://helpcenter.onlyoffice.com/{ru|de|fr|es|lv|it}" />
    <add key="web.hub.internal" value="http://localhost:9899/" />
    <add key="jabber.from-teamlab-to-onlyoffice" value="false" />
    <add key="messaging.enabled" value="true" />
    <add key="web.controlpanel.url" value="" />
    <add key="resources.from-db" value="true" />
    <add key="mail.certificate-permit" value="true" />
  </appSettings>
  <connectionStrings>
    <clear />
    <add name="default" connectionString="Server=localhost;Database=onlyoffice;User ID=root;Password=;Pooling=True;Character Set=utf8;AutoEnlist=false" providerName="MySql.Data.MySqlClient" />
  </connectionStrings>
  <teamlab>
    <services>
      <add type="ASC.Xmpp.Host.XmppServerLauncher, ASC.Xmpp.Host" />
      <add type="ASC.Socket.IO.Svc.Launcher, ASC.Socket.IO.Svc" />
      <add type="ASC.Notify.NotifyServiceLauncher, ASC.Notify" />
      <add type="ASC.FullTextIndex.Service.FullTextIndexLauncher, ASC.FullTextIndex" />
      <add type="ASC.Feed.Aggregator.FeedAggregatorLauncher, ASC.Feed.Aggregator" />
      <add type="ASC.Data.Backup.Service.BackupServiceLauncher, ASC.Data.Backup" />
      <add type="ASC.Mail.Autoreply.AutoreplyServiceController, ASC.Mail.Autoreply" />
    </services>
  </teamlab>
  <apiClient root="/api/2.0/" scheme="Http" />
  <jabberServer>
    <listeners>
      <add name="Jabber Listener" type="ASC.Xmpp.Server.Gateway.TcpXmppListener">
        <property name="maxpacket" value="1048576" />
        <property name="bindPort" value="5222" />
        <property name="certificate" value="" />
        <property name="certificatePrivateKey" value="" />
        <property name="certificatePassword" value="" />
        <property name="startTls" value="none" />
      </add>
      <add name="Bosh Listener" type="ASC.Xmpp.Server.Gateway.BoshXmppListener">
        <property name="maxpacket" value="1048576" />
        <property name="bind" value="http://*:5280/http-poll/" />
      </add>
      <add name="SignalR Listener" type="ASC.Xmpp.Server.Gateway.SignalRXmppListener, ASC.Xmpp.Server" />
    </listeners>
    <storages>
      <add name="roster" type="ASC.Xmpp.Host.ASCRosterStore, ASC.Xmpp.Host">
        <property name="connectionStringName" value="default" />
      </add>
      <add name="vcard" type="ASC.Xmpp.Host.ASCVCardStore, ASC.Xmpp.Host">
        <property name="connectionStringName" value="default" />
      </add>
      <add name="users" type="ASC.Xmpp.Host.ASCUserStore, ASC.Xmpp.Host" />
      <add name="offline" type="ASC.Xmpp.Server.Storage.DbOfflineStore">
        <property name="connectionStringName" value="default" />
      </add>
      <add name="private" type="ASC.Xmpp.Server.Storage.DbPrivateStore">
        <property name="connectionStringName" value="default" />
      </add>
      <add name="muc" type="ASC.Xmpp.Server.Storage.DbMucStore">
        <property name="connectionStringName" value="default" />
      </add>
      <add name="archive" type="ASC.Xmpp.Server.Storage.DbMessageArchive">
        <property name="connectionStringName" value="default" />
      </add>
      <add name="push" type="ASC.Xmpp.Server.Storage.DbPushStore">
        <property name="connectionStringName" value="default" />
      </add>
    </storages>
    <services>
      <add jid="" name="creator" type="ASC.Xmpp.Host.CreatorService, ASC.Xmpp.Host">
        <property name="" value="ASC.Xmpp.Server.Services.Jabber.JabberService, ASC.Xmpp.Server" />
        <property name="conference" value="ASC.Xmpp.Server.Services.Muc2.MucService, ASC.Xmpp.Server" />
        <property name="multicast" value="ASC.Xmpp.Server.Services.Multicast.MulticastService, ASC.Xmpp.Server" />
      </add>
    </services>
  </jabberServer>
  <fullTextIndex connectionStringName="textindex" changedCron="0 0/15 * ? * *" mergeCron="0 0 * ? * *" removedCron="0 0 0 */7 * ?" indexPath="..\..\Data\Index\">
    <modules>
      <add name="projects_projects">
      </add>
      <add name="projects_milestones">
      </add>
      <add name="projects_messages">
      </add>
      <add name="projects_tasks">
      </add>
      <add name="projects_subtasks">
      </add>
      <add name="projects_comments">
      </add>
      <add name="files_file">
      </add>
      <add name="files_folder">
      </add>
      <add name="crm_contacts">
      </add>
      <add name="crm_info">
      </add>
      <add name="crm_events">
      </add>
      <add name="crm_deal">
      </add>
      <add name="crm_task">
      </add>
      <add name="crm_cases">
      </add>
      <add name="crm_field">
      </add>
      <add name="crm_email">
      </add>
      <add name="crm_invoices">
      </add>
      <add name="mail_mail">
      </add>
      <add name="mail_contacts">
      </add>
      <add name="community_blogs">
      </add>
      <add name="community_news">
      </add>
      <add name="community_bookmarks">
      </add>
      <add name="community_wiki">
      </add>
      <add name="community_topic">
      </add>
      <add name="community_post">
      </add>
    </modules>
  </fullTextIndex>
  <notify connectionStringName="default">
    <process maxThreads="2" bufferSize="10" maxAttempts="10" attemptsInterval="0:5:0" />
    <senders>
      <sender name="email.sender" type="ASC.Core.Notify.Senders.SmtpSender, ASC.Core.Common" host="" port="" userName="" password="" enableSsl="" useCoreSettings="true" />
      <sender name="messanger.sender" type="ASC.Core.Notify.Senders.JabberSender, ASC.Core.Common" />
    </senders>
    <schedulers>
      <scheduler name="WhatsNew" register="ASC.Web.Studio.Core.Notify.NotifyConfiguration.RegisterSendMethods, ASC.Web.Studio" />
      <scheduler name="Calendar" register="ASC.Api.Calendar.Notification.CalendarNotifyClient.RegisterSendMethod, ASC.Api.Calendar" />
      <scheduler name="Projects" register="ASC.Web.Projects.Configuration.ProductEntryPoint.RegisterSendMethods, ASC.Web.Projects" />
      <scheduler name="Birthdays" register="ASC.Web.Community.Birthdays.BirthdaysModule.RegisterSendMethod, ASC.Web.Community" />
      <scheduler name="CRM" register="ASC.Web.CRM.Configuration.ProductEntryPoint.RegisterSendMethods, ASC.Web.CRM" />
    </schedulers>
  </notify>
  <backup tmpFolder="..\..\Data\Backup\">
    <cleaner />
    <scheduler />
  </backup>
  <feed aggregatePeriod="0:3:0" />
  <autoreply mailFolder="..\..\Logs\" />
  <healthCheck>
    <add key="url" value="http://localhost:9810/" />
    <add key="service-names" value="onlyofficeFeed,onlyofficeJabber,onlyofficeSignalR,onlyofficeNotify,onlyofficeIndex,onlyofficeBackup,onlyofficeMailAggregator,onlyofficeMailWatchdog" />
    <add key="portals-web-config-path2" value="..\..\..\..\..\web2\studio\ASC.Web.Studio\Web.config" />
    <add key="drive-space-threashold" value="104857600" />
    <add key="mainLoopPeriod" value="60" />
    <add key="support-emails" value="" />
    <add key="sms-CISregex" value="^\+?(370|374|375|380|7|840|992|993|994|995|996|998)" />
    <add key="sms-USAregex" value="^\+?(1)" />
  </healthCheck>
  <socketio path="..\ASC.Socket.IO" port="9899">
    <redis host="" port="" />
  </socketio>
  <system.serviceModel>
    <services>
      <service name="ASC.Xmpp.Host.JabberService" behaviorConfiguration="jabber">
        <endpoint address="net.tcp://0:9865/teamlabJabber" binding="netTcpBinding" contract="ASC.Core.Notify.Jabber.IJabberService" bindingConfiguration="jabber" />
      </service>
      <service name="ASC.FullTextIndex.Service.TextSearcherService" behaviorConfiguration="default">
        <endpoint address="net.tcp://0:9866/teamlabSearcher" binding="netTcpBinding" contract="ASC.FullTextIndex.ITextIndexService" bindingConfiguration="index" />
      </service>
      <service name="ASC.Notify.NotifyService" behaviorConfiguration="default">
        <endpoint address="net.tcp://0:9871/teamlabNotify" binding="netTcpBinding" contract="ASC.Notify.INotifyService" bindingConfiguration="notify" />
      </service>
      <service name="ASC.Data.Backup.Service.BackupService" behaviorConfiguration="default">
        <endpoint address="net.tcp://0:9882/teamlabBackup" binding="netTcpBinding" contract="ASC.Core.Common.Contracts.IBackupService" bindingConfiguration="backup" />
      </service>
    </services>
    <bindings>
      <netTcpBinding>
        <binding name="jabber" maxReceivedMessageSize="1000000" maxBufferSize="1000000" maxBufferPoolSize="1000000" maxConnections="1000000" portSharingEnabled="false" transactionFlow="false" listenBacklog="1000000">
          <security mode="None">
            <message clientCredentialType="None" />
            <transport protectionLevel="None" clientCredentialType="None" />
          </security>
          <reliableSession enabled="false" />
          <readerQuotas maxStringContentLength="1000000" maxArrayLength="1000000" />
        </binding>
        <binding name="signalr" maxReceivedMessageSize="1000000" maxBufferSize="1000000" maxBufferPoolSize="1000000" maxConnections="1000000" portSharingEnabled="false" transactionFlow="false" listenBacklog="1000000">
          <security mode="None">
            <message clientCredentialType="None" />
            <transport protectionLevel="None" clientCredentialType="None" />
          </security>
          <reliableSession enabled="false" />
          <readerQuotas maxStringContentLength="1000000" maxArrayLength="1000000" />
        </binding>
        <binding name="index" openTimeout="0:0:10" receiveTimeout="0:0:10" sendTimeout="0:0:10">
          <security mode="None" />
          <readerQuotas maxStringContentLength="1000000" />
        </binding>
        <binding name="notify" openTimeout="0:0:10" receiveTimeout="0:0:10" sendTimeout="0:0:10">
          <security mode="None" />
          <readerQuotas maxStringContentLength="1000000" />
        </binding>
        <binding name="backup" openTimeout="0:0:10" receiveTimeout="0:0:10" sendTimeout="0:0:10">
          <security mode="None" />
          <readerQuotas maxStringContentLength="1000000" />
        </binding>
      </netTcpBinding>
      <basicHttpBinding>
        <binding name="billing">
          <readerQuotas maxStringContentLength="1000000" />
        </binding>
      </basicHttpBinding>
    </bindings>
    <client>
      <endpoint address="net.tcp://localhost:9865/teamlabJabber" binding="netTcpBinding" contract="ASC.Core.Notify.Jabber.IJabberService" bindingConfiguration="jabber" />
      <endpoint address="net.tcp://localhost:9871/teamlabNotify" binding="netTcpBinding" contract="ASC.Notify.INotifyService" bindingConfiguration="notify" />
      <endpoint address="net.tcp://localhost:9882/teamlabBackup" binding="netTcpBinding" contract="ASC.Core.Common.Contracts.IBackupService" bindingConfiguration="backup" />
      <endpoint address="net.tcp://localhost:9866/teamlabSearcher" binding="netTcpBinding" contract="ASC.FullTextIndex.ITextIndexService" bindingConfiguration="index" />
    </client>
    <behaviors>
      <serviceBehaviors>
        <behavior name="default">
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
        <behavior name="jabber">
          <serviceDebug includeExceptionDetailInFaults="true" />
          <serviceThrottling maxConcurrentCalls="500" maxConcurrentSessions="200" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>
  <system.net>
    <connectionManagement>
      <add address="*" maxconnection="96" />
    </connectionManagement>
  </system.net>
  <storage file="..\..\WebStudio\web.storage.config" />
  <autofac>
    <components>
      <container name="files">
        <component type="ASC.Files.Thirdparty.ProviderDao.ProviderDaoFactory, ASC.Files.Thirdparty" service="ASC.Files.Core.IDaoFactory, ASC.Web.Files" instance-scope="single-instance" />
        <component type="ASC.Web.Files.Services.WCFService.FileStorageServiceController, ASC.Web.Files" service="ASC.Web.Files.Services.WCFService.IFileStorageService, ASC.Web.Files" instance-scope="single-instance" />
      </container>
      <container name="projects">
        <component type="ASC.Projects.Data.DAO.CachedProjectDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.IProjectDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.ParticipantDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.IParticipantDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.CachedMilestoneDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.IMilestoneDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.CachedTaskDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.ITaskDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.CachedSubtaskDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.ISubtaskDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.CachedMessageDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.IMessageDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.CommentDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.ICommentDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.TagDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.ITagDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.TemplateDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.ITemplateDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.TimeSpendDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.ITimeSpendDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.ReportDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.IReportDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DAO.SearchDao, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.ISearchDao, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Data.DaoFactory, ASC.Web.Projects" service="ASC.Projects.Core.DataInterfaces.IDaoFactory, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.EngineFactory, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.FileEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.MilestoneEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.TaskEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.SubtaskEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.MessageEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.CommentEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.SearchEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.TimeTrackingEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.ParticipantEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.TagEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.ReportEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.TemplateEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.Projects.Engine.CachedProjectEngine, ASC.Web.Projects" service="ASC.Projects.Engine.ProjectEngine, ASC.Web.Projects" instance-scope="per-request" inject-properties="yes" />
      </container>
      <container name="crm">
        <component type="ASC.CRM.Core.Dao.TaskDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.ListItemDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedContactDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.ContactDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CustomFieldDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedDealDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.DealDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedDealMilestoneDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.DealMilestoneDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedListItem, ASC.Web.CRM" service="ASC.CRM.Core.Dao.ListItemDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.TagDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.SearchDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedRelationshipEventDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.RelationshipEventDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.FileDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedCasesDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.CasesDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.TaskTemplateContainerDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.TaskTemplateDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.ReportDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CurrencyRateDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CurrencyInfoDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.ContactInfoDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedInvoiceDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.InvoiceDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedInvoiceItemDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.InvoiceItemDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedInvoiceTaxDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.InvoiceTaxDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.CachedInvoiceLineDao, ASC.Web.CRM" service="ASC.CRM.Core.Dao.InvoiceLineDao, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.VoipService.Dao.CachedVoipDao, ASC.VoipService" service="ASC.VoipService.Dao.VoipDao, ASC.VoipService" instance-scope="per-request" inject-properties="yes" />
        <component type="ASC.CRM.Core.Dao.DaoFactory, ASC.Web.CRM" instance-scope="per-request" inject-properties="yes" />
      </container>
    </components>
  </autofac>
  <log4net>
    <addProperty os="UNIX">
      <key>UNIX:LogDirectory</key>
      <value>/var/log/onlyoffice/</value>
    </addProperty>
    <addProperty os="WINDOWS">
      <key>WINDOWS:LogDirectory</key>
      <value>..\..\Logs\</value>
    </addProperty>
    <logger name="ASC">
      <appender-ref ref="File" />
      <appender-ref ref="Console" />
      <level value="WARN" />
    </logger>
    <logger name="ASC.SQL" additivity="false">
      <level value="OFF" />
    </logger>
    <appender name="Console" type="log4net.Appender.ConsoleAppender">
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level %logger - %message%newline" />
      </layout>
    </appender>
    <appender name="File" type="ASC.Common.Logging.SelfCleaningAppender, ASC.Common">
      <file type="log4net.Util.PatternString">
        <converter>
          <name value="folder" />
          <type value="ASC.Common.Logging.SpecialFolderPathConverter, ASC.Common" />
        </converter>
        <conversionPattern value="%folder{LogDirectory}svc%folder{CommandLine:--log}" />
      </file>
      <encoding value="utf-8" />
      <staticLogFileName value="false" />
      <preserveLogFileNameExtension value="true" />
      <rollingStyle value="Composite" />
      <datePattern value=".MM-dd.lo\g" />
      <maximumFileSize value="50MB" />
      <maxSizeRollBackups value="-1" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level [%thread] %logger - %message%newline" />
      </layout>
    </appender>
    <appender name="Sql" type="ASC.Common.Logging.SelfCleaningAppender, ASC.Common">
      <file type="log4net.Util.PatternString">
        <converter>
          <name value="folder" />
          <type value="ASC.Common.Logging.SpecialFolderPathConverter, ASC.Common" />
        </converter>
        <conversionPattern value="%folder{LogDirectory}svc%folder{CommandLine:--log}.sql.log" />
      </file>
      <encoding value="utf-8" />
      <staticLogFileName value="false" />
      <preserveLogFileNameExtension value="true" />
      <rollingStyle value="Composite" />
      <datePattern value=".MM-dd" />
      <maximumFileSize value="50MB" />
      <maxSizeRollBackups value="-1" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%utcdate|%thread|%property{duration}|%message|%property{sql}|%property{sqlParams}%newline" />
      </layout>
    </appender>
  </log4net>
  <consumers configSource="web.consumers.config" />
</configuration>